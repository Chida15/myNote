## 专业综合

### 数据结构

#### 一.前五章

| 绪论                           | 线性表               | 栈、队列         | 串            | 稀疏矩阵                                   |
| ------------------------------ | -------------------- | ---------------- | ------------- | ------------------------------------------ |
| 数据结构的分类(逻辑和物理结构) | 简单定义             | 栈进出时指针位置 | 比较          | 稀疏矩阵表示法(三元组、邻接表、十字链表法) |
| 算法的评价(复杂度)             | 增删改查(free)       | 栈的应用         | 连接          | 特殊三角矩阵数组表示法                     |
|                                | 合并                 | 循环队列问题     | 子串          |                                            |
|                                | 特殊用途下的最优结构 |                  | **匹配(KMP)** |                                            |

##### NEXT数组：

再回到next[i]的定义，对于字符串ptr = "ababaaababaa";

next[1] = -1,代表着除了第一个元素，之前前缀后缀最长的重复子串，这里是空 ,即""，没有，我们记为-1，代表空。（0代表1位相同，1代表两位相同，依次累加）。

next[2] = -1，即“a”，没有前缀与后缀，故最长重复的子串是空，值为-1；

next[3] = -1，即“ab”，前缀是“a”，后缀是“b”，最长重复的子串“”；

next[4] = 1，即"aba"，前缀是“ab”，后缀是“ba”，最长重复的子串“a”；next数组里面就是最长重复子串字符串的个数

next[5] = 2，即"abab"，前缀是“aba”，后缀是“bab”，最长重复的子串“ab”；

next[6] = 3，即"ababa"，前缀是“abab”，后缀是“baba”，最长重复的子串“aba”；

next[7] = 1，即"ababaa"，前缀是“ababa”，后缀是“babaa”，最长重复的子串“a”；

next[8] = 1，即"ababaaa"，前缀是“ababaa”，后缀是“babaaa”，最长重复的子串“a”；

next[9] = 2，即"ababaaab"，前缀是“ababaaa”，后缀是“babaaab”，最长重复的子串“ab”；

next[10] = 3，即"ababaaaba"，前缀是“ababaaab”，后缀是“babaaaba”，最长重复的子串“aba”；

next[11] = 4，即"ababaaabab"，前缀是“ababaaaba”，后缀是“babaaabab”，最长重复的子串“abab”；

next[12] = 5，即"ababaaababa"，前缀是“ababaaabab”，后缀是“babaaaababa”，最长重复的子串“ababa”

#### 二.树

| 二叉树性质     | 遍历算法         | 线索二叉树           | 树和森林          | 赫夫曼树            |
| -------------- | ---------------- | -------------------- | ----------------- | ------------------- |
| 点与边关系     | 前中后序遍历算法 | 利用遍历算法建立     | 树:左孩子右兄弟   | 建立(三叉以上添加0) |
| 数量和层数关系 | 层次遍历算法     | 判断前驱与后继的意义 | 森林:右边直接连接 | 编码实现            |
|                | 深度遍历算法     |                      |                   |                     |

#### 三.图

| 存储定义 | 遍历方式     | 最小代价生成树            | 最短路径             | 拓扑排序            | AOE与关键路径      |
| -------- | ------------ | ------------------------- | -------------------- | ------------------- | ------------------ |
| 邻接矩阵 | 广度遍历     | 普里姆算法(点)(n^2)       | 迪杰斯特拉算法       | 不断找出入度为0的点 | 点是时间，边是活动 |
| 邻接表   | 深度遍历     | 克鲁斯卡尔算法(边)(eloge) | 弗洛伊德算法(矩阵法) |                     | 最早发生和最晚发生 |
|          | 非连通图遍历 | 不重复条件                |                      |                     | 关键路径           |

无向图是否为树？

边树≥n-1或遍历算法能够一次遍历所有点

#### 四.排序

| 类型     | 名称                     | 特点                       | 时间                                      | 空间  |
| -------- | ------------------------ | -------------------------- | ----------------------------------------- | ----- |
| 插入类   | 直接插入                 | 不断是前面序列有序         | n^2                                       | 1     |
|          | 折半插入                 | 在已经有序序列中插入       | n^2                                       | 1     |
|          | 希尔排序(最小增量)       | 不断缩小排序间隔，逐步有序 | nlog2n                                    | 1     |
| 交换类   | 冒泡排序                 | 不断让大数沉底             | n^2                                       | 1     |
|          | **快速排序**             | 选定后交换                 | nlog2n～n^2                               | log2n |
| 选择     | 简单选择                 | 不断选择最大或最小的       | n^2                                       | 1     |
|          | **堆排序(堆建立过程)**   | 建立完全二叉树             | nlog2n                                    | 1     |
| 特殊     | 二路归并                 | nlog2n                     | n                                         | n     |
| 特殊     | **基数排序(2013卷11题)** | 不断选取合适的分类方式     | d(n+rd)，d为关键字个数,rd为关键字取值范围 | rd    |
| 外部排序 | 归并排序                 |                            | nlog2n                                    | 外存  |

| 时间复杂度             | 空间复杂度  | 原序列是否有序      | 稳定性       | 特殊           |
| ---------------------- | ----------- | ------------------- | ------------ | -------------- |
| 快(快速)               | 快速:elog2n | 容易插(直接插入)    | 快(快速排序) | 冒泡           |
| 些(希尔)               | 归并:n      | 起泡快(冒泡)        | 些(希尔排序) | 快速           |
| 归(归并)               | 其余:1      | 快速排序最差情况n^2 | 选(简单选择) | 简单选择       |
| 队(堆排序)             |             | 决定交换类趟数      | 队(堆排序)   | 堆             |
| 以上都是nlog2n,其余n^2 |             |                     | 不稳定       | 一次一数到位置 |

#### 五.查找

| 二叉排序树(B树/中序树) | 平衡二叉树             | B-树                    | B+树                 |
| ---------------------- | ---------------------- | ----------------------- | -------------------- |
| 通过中序建立           | 利用平衡因子来建立平衡 | m(由最大分支定)阶查找树 | 叶子结点保存所有信息 |
|                        |                        | 根结点分支≥2            | 叶子结点形成一个链表 |
|                        |                        | 其余结点关键字≥ ⌈m/2⌉-1 |                      |

散列表：平均查找长度计算，注意第一次成功不算次数。

#### 六.补充

##### 6.1 二叉树的栈遍历算法

先序序列为a,b,c,d的不同二叉树的个数是？ 14

由于先序和中序能够唯一的确定一个二叉树，故对该树使用中序二叉树的栈遍历算法

入栈顺序是先序，出栈顺序是中序。故本题本质是出栈的顺序个数。

对于n个不同元素的栈，出栈顺序
$$
\frac1{n+1}C_{2n}^n=14
$$

### 计算机组成原理

#### 一.浮点数

N=M(尾数)×R(基数)^E(阶码)

|          | 符号位 | *阶码(阶码偏移量)*  | 尾数  |
| -------- | ------ | ------------------- | ----- |
| 通用格式 | 1位    | n+1位(含一位符号位) | m位   |
| IEEE754  | 1      | 8/11                | 23/52 |

##### 浮点数运算

①对阶(小对大)

②尾数相加减

③规格化 a.符号位与数值最高位不相同 b.双符号位不相等时需要左移将进位移出

④舍入(根据下划线部分)

⑤判溢出(看阶码)

#### 二.寻址方式

| 方式           | 例子             | 特点                           |
| -------------- | ---------------- | ------------------------------ |
| 立即数寻址     | MOV AX,12345     | 数据就在指令中                 |
| 寄存器寻址方式 | MOV AX,BX        | 数据在寄存器中                 |
| 直接寻址       | MOV AX,[2000]    | 直接给出数据地址               |
| 间接寻址       | MOV AX,[BX]      | 寄存器中内容为物理地址         |
| 基址寻址       | MOV AX,50[BX]    | 物理地址为寄存器值+偏移量      |
| 变址寻址       | MOV AX,table[SI] | table作为数组首地址+SI中偏移量 |
| 相对寻址方式   | JMP L1           | (PC)+偏移量，进行指令跳转      |

#### 三.微程序设计

| 编译设计方式                        | 微地址形成方式                                          |
| ----------------------------------- | ------------------------------------------------------- |
| 直接控制法(一位一操作)              | 计数器方式(在当前地址上增量)                            |
| 字段直接编译法(互斥操作共享几位)    | 断定方式(当前地址自带下地址)                            |
| 字段间接编译(在2基础上那个多位控制) | 组合方式[条件BCF(转移控制字段)+下地址BAF(转移地址字段)] |

微程序控制存储器的容量：利用下地址计算

#### 四.中断

![中断](/home/hmc/Desktop/%E8%80%83%E7%A0%94%E4%B9%8B%E8%B7%AF/05%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/images/08_%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B%E5%9B%BE.jpg)

注意：保护现场由中断服务程序完成

#### 五.流水线(时空表)

![](/home/hmc/Desktop/%E8%80%83%E7%A0%94%E4%B9%8B%E8%B7%AF/05%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/images/09_%E6%B5%81%E6%B0%B4%E7%BA%BF.jpg)

##### 流水线性能

k段流水线处理n个任务：Tk=(k+n-1)△t(每段时间)

k是第一个指令时间，没有一点节省k△t，但是之后每条指令理想情况下相等于原来一段n-1△t

| 吞吐量  | 加速比                | 效率                            |
| ------- | --------------------- | ------------------------------- |
| TP=n/Tk | S=T0(串行处理nk△t)/Tk | 串行时空区/流水线时空区=T0/k×Tk |

#### 六.补充

##### 1 cache地址结构

假定主存地址为32位，按字节编址，主存和cache之间采用直接映射方式，主存快大小为4个字，每个字32位。采用回写方式，则能存放4K字节数据的cache的总容量位数至少是？148K

| 主存字块标记                   | Cache字块标记 | 字块内地址        |
| ------------------------------ | ------------- | ----------------- |
| 32-10-4=18+1(有效位)+1(写回位) | 2^10行，10位  | 按字节编址，故4位 |

##### 2 单总线CPU结构

2015卷43题。

①暂存器用于保存另一个数据，单总线会使A,B寄存器中数据同时改变。

②使用类似三态门来控制切换控制和数据信息。

##### 3 DRAM的访问方式

某容量256MB的存储器由若干4M×8的DRAM芯片组成，那么地址引脚和数据引脚总数是？

数据引脚：8		地址引脚：256M=2^28

但是分两次传送，故（28+8)/2

##### 4 八体存储的读写

(2013卷43(3))主存采用8体交叉存储方式，每个体存储字长为32位，存储周期为40ns，存储总线宽度为32位，总线时钟频率为200MHz，每次突发传输需要一个总线周期。

40/8=5ns(启动第一个存储体工作)+40ns(之后存储体时间重叠)+8×5ns(八个传输周期)=85ns

### 操作系统

| 概述             | 进程         | 存储器管理                 | IO系统                 |
| ---------------- | ------------ | -------------------------- | ---------------------- |
| 操作系统基本特性 | 进程状态变化 | 程序的装入和链接           | 假脱机技术             |
| 主要功能         | PCB          | 空闲空间的分配方式         | 磁盘调度               |
|                  | 同步机制     | 段页结构                   | link的区分             |
|                  | 调度算法     | 虚拟存储的置换算法和工作集 | 访问控制矩阵           |
|                  | 死锁条件     |                            | FAT系列                |
|                  | 银行家算法   |                            | 成组链接法(空间块管理) |

#### 1.系统调用的过程

①传递系统调用参数	②执行陷入(trap)指令 	③执行相应的服务程序		④返回用户态

#### 2.磁盘存取时间

存取时间=寻道时间+延迟时间+传输时间

寻道时间题目中给出，延迟时间为旋转半周时间，传输时间计算得出。

例如：若磁盘转速7200rpm,平均寻道时间为8ms，每个磁道包含1000个扇区，则访问每个扇区的平均存取时间是？

延迟时间=60s/7200(转)/2=4.17ms

传输时间=60/7200/1000(扇区数)=0.01ms

故8+4.17+0.01=12.2ms

#### 3.不发生死锁的设备数

三个并发进程分别需要3、4、5台设备，故不发生死锁的最少设备数是？

极端情况，每个分配2、3、4台设备，此时还需要一台使其动起来。故10台

#### 4.文件修改时访存次数

2014卷46题

文件F由200条记录组成，记录从1开始编号，要求把一条记录插入F中，作为第30条记录。

|              | 访存次数                           | 修改内容 |
| ------------ | ---------------------------------- | -------- |
| 连续存储方式 | 29(访问)+29(移动)+1(最后写入)      | 地址内容 |
| 链接存储方式 | 29(访问)+1(插入)+1(修改前指针内容) | 指针内容 |

#### 5.临界区与进程调度

在临界区能够进行进程调度，因为IO操作时间过长会影响效率

#### 6.通道工作方式

编制通道程序——>启动I/O通道——>组织I/O操作——>向CPU发出中断请求

#### 7.外存对换区

目的：提高换入、换出速度

#### 8.进程和线程

某一个线程被阻塞，那么整个进程被阻塞

### 网络原理

#### 零.网络层次

![层级图](/home/hmc/Desktop/%E8%80%83%E7%A0%94%E4%B9%8B%E8%B7%AF/07_%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/computerWeb/computerWebLayer.jpeg)

#### 一.物理层

| 三种交换方式及其时延                               | 几种编码方式                                 | 香农定理                             | 信道利用率(停等协议)               | 数据传输速率和波特率            |
| -------------------------------------------------- | -------------------------------------------- | ------------------------------------ | ---------------------------------- | ------------------------------- |
| 电路交换+报文交换+分组交换                         | 曼彻斯特编码：中间跳变,上跳1,下跳0           | **信噪比(dB)=10log10(S/N)(dB)**      | 有效时间：发送数据的发送时延       | 波特率B                         |
| 电路交换时延：建立电路时间+一次性发送时间+传播时延 | 差分曼彻斯特编码：中间始终跳变,开头跳变表示1 | 极限信息传输速率C=Wlog_2(1+S/N)(b/s) | 全部时间：从发送到确认帧回到发送处 | 数据传输率C                     |
| 分组时延：发送时延+传播时延+处理时延+排队时延      |                                              | N为信号数,W为带宽                    | 利用率=有效时间/全部时间           | C=Blog2N(N为一个码元离散值个数) |

#### 二.数据链路层

| 三个问题                              | CSMA/CD                                                   | MAC帧格式                                 | 网络设备          |
| ------------------------------------- | --------------------------------------------------------- | ----------------------------------------- | ----------------- |
| 封装成帧:MTU                          | 争用期:2τ 即**最迟发现碰撞时间**                          | 7字节前同步码+1字节帧开始符               | hub和网桥(交换机) |
| 透明传输:界定符+字符填充**(5个1填0)** | 最短帧长 = 争用期*发送速度(规定64字节)                    | 6字节目的地址+6字节源地址                 | 网桥表自学习算法  |
| 差错检测(CRC)                         | 碰撞后:强化碰撞(认为干扰信号)+退避算法+帧间隔(96比特时间) | 2字节类型码+数据(46～1500)+FCS(纠错)4字节 |                   |
|                                       | 半双工(双向交替通信)                                      | 其中数据段46决定最小MAC帧64字节           |                   |

#### 三.网络层

| ARP协议         | IP数据格式                              | ICMP协议(IP提供服务) | 路由协议           | IP地址      |
| --------------- | --------------------------------------- | -------------------- | ------------------ | ----------- |
| ARP缓存         | 首部长度单位4个字节,故首部为4字节整数倍 | 3终点不可达          | RIP相邻路由UDP传输 | 前缀聚合    |
| ARP同一网段广播 | 片偏移单位8个字节,故IP包8字节整数倍     | 11时间超过           | OSPF协议IP传输     | **全1广播** |
|                 |                                         | 5改变路由            | BGP协议TCP传输     | 全0网络段号 |

#### 四.运输层

| UDP                        | TCP                                  | 可靠传输           | 流量控制                          | 拥塞控制                |
| -------------------------- | ------------------------------------ | ------------------ | --------------------------------- | ----------------------- |
| 校验时首部和数据部一同进行 | 序号,建立连接和结束连接报文编号1个   | 停止等待           | 发送窗口=min{滑动窗口,接受窗口}   | 满开始+拥塞避免         |
| 2字节为单位                | 数据偏移4字节为单位,故首部最大60字节 | 连续确认和滑动窗口 | 防止零窗口,定时发送零窗口探测报文 | 乘法减小                |
|                            | 三次握手和四次握手                   |                    |                                   | 快重传+快恢复(拥塞避免) |

#### 五.应用层

| DNS         | FTP                                 | HTTP        | E-MAIL                                   | DHCP                               |
| ----------- | ----------------------------------- | ----------- | ---------------------------------------- | ---------------------------------- |
| 迭代查询    | 端口号21                            | 请求报文    | 客户A通过HTTP到邮件服务器                | 主机A通过UDP和68端口广播           |
| 递归查询    | 数据连接结束即断开,控制连接一直保持 | 响应报文    | 服务器间使用SMTP(推)协议、POP3(拉)、IMAP | DHCP服务器在67端口收到,回复报文    |
| 使用UDP协议 | 使用TCP协议                         | 使用TCP连接 | 服务器通过HTTP发送到用户B                | 租用期4字节二进制单位秒,1秒到136年 |

#### 六.补充

#### 6.1 后退N帧协议

2017真题47，关键在于在网路中最多分组数+1<2^n(n为序号字段位数)

2014真题36，甲发送窗口为1000，数据帧长为1000字节，信道带宽为100Mbps,乙每收到一个数据帧利用一个短帧确认(忽略传输延迟)，若单向延迟为50ms，则甲可以达到的最大平均传输速率约为？

1000(发送窗口大小)×1000B=1MB

而一个往返时延为：50+50=0.1s

故协议最大速率：1MB/0.1s=10MB/s=80Mbps<100Mbps，故最大传输速率约为80Mbps

#### 6.2 网桥转发

遇到不再表中的地址，向除接收端口外所有端口转发

#### 6.3 网络确认

| 滑动窗口        | ARQ之后退N帧 | ARQ之选择性重传 |
| --------------- | ------------ | --------------- |
| 最多发送n-1个帧 | (2^n)-1      | 2^(n-1)         |

#### 6.4 CSMA三种类型

| 非坚持CSMA                                                   | 1-坚持CSMA                                                   | p-坚持CSMA                        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | --------------------------------- |
| 发动前检测信道，若信道被占用那么等待一个随机的延迟时间再监听 | 一旦检测到空闲就发送，冲突后退避。因为空闲时发送几率为1故得名 | 在1上p概率发送，1-p概率不发送延迟 |

### 压题

1. 关键路径
2. TCP连接包解析
3. 写程序题目格式
4. 互斥变量
5. 内外中断判别(内中断：0除、溢出)
6. 多种平衡树之间关系