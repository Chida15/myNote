## 单元测试

#### 单元测试设计

##### 重要性

①时间性：单元测试做好为后面测试节省时间

②测试效果：效果非常明显。首先，它是整个测试的基础。其次，能够发现后面测试难以发现的问题。最后，关注代码功能的范围。

③测试成本：单元测试问题容易改正，代价小。

④产品质量：直接影响产品质量。

##### 单元测试计划内容

| 前言     | 产品描述 | 测试概述 | 控制与协调       | 资源需求和依赖条件 |
| ------ | ---- | ---- | ----------- | --------- |
| 编写目的   | 功能描述 | 测试目标 | 测试案例检查和质量控制 | 软/硬件依赖条件  |
| 背景     | 当前版本 | 测试方法 | 测试流程图       | 测试数据需求    |
| 变更历史   |      | 进入准则 | 版本控制        | 测试人员需求    |
| 定义、缩略图 |      | 结束准则 |             |           |
| 参考资料   |      | 考虑事项 |             |           |

#### 单元测试实现

|      | 自顶而下                                     | 自底而上                                     | 孤立单元测试                      |
| ---- | ---------------------------------------- | ---------------------------------------- | --------------------------- |
| 步骤   | 如题                                       | 如题                                       | 如题                          |
| 优点   | 为系统提供早期集成途径                              | 不需要单独设计桩模块，只需要驱动模块                       | 简单、容易操作、高覆盖率                |
| 缺点   | 需要编写大量桩模块，成本不断增加，覆盖率难以保证。一旦需求变更，必须重新测试下层模块。 | 测试过程会越来越复杂，成本增加。同样覆盖率难以保证，一旦模块修改，直接或间接调用该模块的单元要重新测试。 | 不能为集成测试提供早期集成途径，增加了额外的测试成本。 |

#### 单元测试实现

1. 模块接口测试
2. 数据结构测试
3. 路径测试
4. 错误处理测试
5. 边界测试

#### 单元测试执行

##### 测试用例

| 特征            | 作用             | 设计原则     | 设计步骤     |
| ------------- | -------------- | -------- | -------- |
| 最有可能抓住错误的     | 指导测试的实施        | 测试用例的代表性 | 测试需求分析   |
| 不是重复的、多余的     | 规划测试数据的准备      | ～的可判定性   | 业务流程分析   |
| 一组相似测试用例中最有效的 | 编写测试脚本的设计规格说明书 | ～的可再现性   | 测试用例设计   |
|               | 评估测试结果的度量基准    | ～的管理     | 测试用例评审   |
|               | 分析缺陷的标准        |          | 测试用例更新完善 |

##### 测试用例实例

| 用例ID | xxxxx | 用例名称 | xxxxx     |
| ---- | ----- | ---- | --------- |
| 设计人员 | xxxxx | 日期   | 2018-6-27 |
| 测试目的 |       |      |           |
| 测试级别 |       |      |           |
| 参考信息 |       |      |           |
| 测试环境 |       |      |           |
| 前提条件 |       |      |           |
| 测试步骤 |       |      |           |
| 预期结果 |       |      |           |

##### 单元测试报告

1. 编写目的

2. 软件单元的描述

3. 单元的结构

4. 单元内部流程图

5. 测试过程

6. 测试结果

   代码审查结果表

   | Bug ID | 审查人员 | 审查日期 | 问题描述 |
   | ------ | ---- | ---- | ---- |
   |        |      |      |      |
   |        |      |      |      |

   测试用例执行结果统计表

   | 测试项  | 测试用例号 | 测试特性 | 用例描述 | 测试结论 | 对应Bug ID |
   | ---- | ----- | ---- | ---- | ---- | -------- |
   |      |       |      |      |      |          |
   |      |       |      |      |      |          |

7. 质量评估

